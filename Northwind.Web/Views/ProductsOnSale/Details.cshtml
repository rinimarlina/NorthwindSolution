@model NorthwindContracts.Dto.Product.ProductDto

@{
    ViewData["Title"] = "Details";
}
@using (Html.BeginForm("CreateOrder",
"ProductsOnSale",FormMethod.Post))
{

    @Html.HiddenFor(model => model.ProductId)

<div class="col-md">
   <div class="card mb-3">
       <div class="row g-0">
          <div class="col md-4">
             <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    @foreach(var item in Model.ProductPhotos)
                    {
                        if(Model.ProductPhotos.FirstOrDefault() == item)
                        {
                            <div class="carousel-item active">
                                <img class="card-img card-img-left" src="@Url.Content("~/Resources/Images/" + item.PhotoFilename)" alt="Card image">
                                </div>
                        }
                        else
                        {
                            <div class="carousel-item">
                               <img class="card-img card-img-left" src="@Url.Content("~/Resources/Images/" + item.PhotoFilename)" alt="Card image">
                            </div>      
                        }
                    }
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
    
      <div class="col md-8">
      <div class="card-body">
          <h2 class="card-title">@Html.DisplayFor(model => model.ProductName)</h2>
          <br>
          <br>
            <h4 class="pb-1 mb-4">
            @Html.LabelFor(model => model.UnitPrice) :
            @Html.HiddenFor(model => model.UnitPrice)
            @Html.DisplayFor(model => model.UnitPrice)
            </h4>
            <br>
            <br>
            <h4 class="pb-1 mb-4">
            @Html.LabelFor(model => model.Category.CategoryName) :
            @Html.DisplayFor(model => model.Category.CategoryId)
            </h4>
            <br>
            <br>
            <h4 class="pb-1 mb-4">
            @Html.LabelFor(model => model.UnitsInStock) :
            @Html.DisplayFor(model => model.UnitsInStock) 
            </h4>
            <br>
            @Html.TextBox("QuantityPerUnit",1,new{@type="number"})
            <a asp-action="AddCart" class="btn btn-outline-primary"> 
                <i class='bx bxs-cart-add'><span>  Add to Cart</span></i>
            </a>
            <button type="submit" class="btn btn-primary"><span>  Checkout  </span></button>
      </div>
         </div>
</div>
</div>
</div>

<div>
    <a asp-action="Edit" asp-route-id="">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>
}
